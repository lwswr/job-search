{"version":3,"sources":["API.ts","appSlice.ts","utils.ts","JobListItem.tsx","JobList.tsx","AppMap.tsx","SearchForm.tsx","DetailedJobItem.tsx","App.tsx","store.ts","index.tsx"],"names":["getJobs","searchParams","axios","get","jobTitle","location","searchRadius","headers","then","res","data","initialAppState","jobList","count","mean","results","topClass","search","selectedJobItem","undefined","mapView","center","zoom","jobPopUp","appSlice","createSlice","name","initialState","reducers","setSearch","state","payload","split","join","setJobList","response","setSelectedJobItem","index","findIndex","item","id","longitude","alert","latitude","updatePopUpState","click","actions","roundToNearestHundred","value","Math","round","Item","styled","div","JobTitle","JobListItem","submitID","onClick","striptags","title","company","display_name","salary_min","salary_max","List","JobList","jobs","map","MapContainer","mapTilerProvider","x","y","z","dpr","AppMap","points","provider","point","anchor","coords","color","Form","form","TextInput","input","Title","BottomRow","NumInput","SearchForm","submit","React","useState","setLocation","setJobTitle","radius","setRadius","onSubmit","e","preventDefault","type","placeholder","onChange","target","parseInt","Container","JobCard","Button","button","DetailedJobItem","job","description","contract_type","MainContainer","ColumnContainer","selectState","App","list","dispatch","useDispatch","useSelector","useEffect","a","jobResponse","console","log","getData","_click","_id","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90baa0f4.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { SearchProps } from \"./SearchForm\";\n\nconst APP_ID1 = \"041d53c8\";\nconst APP_KEY1 = \"6db8813c6cff51c2717428ba63b7feac\";\n\nconst APP_ID2 = \"bbab81cc\";\nconst APP_KEY2 = \"96f0a9e3ac84c638a19b8b78d493ddd9\";\n\nexport const getJobs = (searchParams: SearchProps) => {\n  return axios\n    .get<JobResponse>(\n      `https://api.adzuna.com/v1/api/jobs/gb/search/1?app_id=${APP_ID1}&app_key=${APP_KEY1}&results_per_page=20&what=${searchParams.jobTitle}&where=${searchParams.location}&distance=${searchParams.searchRadius}`,\n      {\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n      }\n    )\n    .then((res) => res.data);\n};\n\nexport type JobResponse = {\n  count: number;\n  mean: number;\n  results: JobResponseItem[];\n  topClass: string;\n};\n\nexport type JobResponseItem = {\n  adref: string;\n  category: { label: string; tag: string; classOne: string };\n  company: { display_name: string; classTwo: string };\n  contract_time: string;\n  contract_type: string;\n  created: string;\n  description: string;\n  id: string;\n  latitude: number;\n  location: {\n    area: string[];\n    display_name: string;\n    classThree: string;\n  };\n  longitude: number;\n  redirect_url: string;\n  salary_is_predicted: string;\n  salary_max: number;\n  salary_min: number;\n  title: string;\n  classFour: string;\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Point } from \"pigeon-maps/lib/types\";\nimport { JobResponse, JobResponseItem } from \"./API\";\n\nexport type AppState = {\n  jobList: JobResponse;\n  search: {\n    location: string;\n    jobTitle: string;\n    searchRadius: number;\n  };\n  selectedJobItem?: JobResponseItem;\n  mapView: {\n    center: Point;\n    zoom: number;\n  };\n  jobPopUp: boolean;\n};\n\nexport const initialAppState: AppState = {\n  jobList: {\n    count: 0,\n    mean: 0,\n    results: [],\n    topClass: \"\",\n  },\n  search: {\n    location: \"\",\n    jobTitle: \"\",\n    searchRadius: 0,\n  },\n  selectedJobItem: undefined,\n  mapView: {\n    center: [51.507222, -0.12755],\n    zoom: 12,\n  },\n  jobPopUp: false,\n};\n\nexport const formatSearchTitle = (str: string) => {\n  return str.split(\" \").join(\"%20\");\n};\n\nexport const appSlice = createSlice({\n  name: \"appSlice\",\n  initialState: initialAppState,\n  reducers: {\n    setSearch: (\n      state,\n      {\n        payload,\n      }: PayloadAction<{\n        location: string;\n        jobTitle: string;\n        searchRadius: number;\n      }>\n    ) => {\n      state.search.location = payload.location;\n      state.search.jobTitle = formatSearchTitle(payload.jobTitle);\n      state.search.searchRadius = payload.searchRadius;\n    },\n    setJobList: (\n      state,\n      { payload }: PayloadAction<{ response: JobResponse }>\n    ) => {\n      state.jobList = payload.response;\n    },\n    setSelectedJobItem: (state, { payload }: PayloadAction<{ id: string }>) => {\n      const index: number = state.jobList.results.findIndex(\n        (item) => item.id === payload.id\n      );\n      state.selectedJobItem = state.jobList.results[index];\n      if (state.selectedJobItem.longitude === undefined) {\n        // will create a pop up in the future to replace alert()\n        alert(\"No coordinates for this job\");\n      } else {\n        state.mapView.center = [\n          state.selectedJobItem.latitude,\n          state.selectedJobItem.longitude,\n        ];\n      }\n      state.jobPopUp = true;\n    },\n    updatePopUpState: (\n      state,\n      { payload }: PayloadAction<{ click: boolean }>\n    ) => {\n      state.jobPopUp = payload.click;\n    },\n  },\n});\n\nexport const {\n  setSearch,\n  setJobList,\n  setSelectedJobItem,\n  updatePopUpState,\n} = appSlice.actions;\n\nexport default appSlice.reducer;\n","export const roundToNearestHundred = (value: number) =>\n  Math.round(value / 100) * 100;\n","import React from \"react\";\nimport { JobResponseItem } from \"./API\";\nimport { roundToNearestHundred } from \"./utils\";\nimport striptags from \"striptags\";\nimport styled from \"styled-components\";\n\nconst Item = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 100px;\n  margin-top: 10px;\n  padding: 10px;\n  background: white;\n  border-radius: 10px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  justify-content: space-around;\n  transition: 0.3s;\n  :hover {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n  }\n`;\n\nconst JobTitle = styled.div`\n  font-weight: 400;\n  font-size: 20px;\n`;\n\n// export const checkSalary = (min: number, max: number) => {\n//   let average = 0;\n//   min === max ?\n// }\n\nexport const JobListItem = ({\n  item,\n  submitID,\n}: {\n  item: JobResponseItem;\n  submitID: (id: string) => void;\n}) => {\n  return (\n    <Item onClick={() => submitID(item.id)}>\n      <JobTitle>{striptags(item.title)}</JobTitle>\n      <div>{striptags(item.company.display_name)}</div>\n      <div>\n        £{roundToNearestHundred(item.salary_min) + \" \"} - £\n        {roundToNearestHundred(item.salary_max)}\n      </div>\n    </Item>\n  );\n};\n","import React from \"react\";\nimport { JobResponseItem } from \"./API\";\nimport { JobListItem } from \"./JobListItem\";\nimport styled from \"styled-components\";\n\nconst List = styled.div`\n  position: relative;\n  display: inline-block;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: flex-start;\n  top: 320px;\n  z-index: 5;\n`;\n\nexport const JobList = ({\n  jobs,\n  submitID,\n}: {\n  jobs: JobResponseItem[];\n  submitID: (id: string) => void;\n}) => {\n  return (\n    <List>\n      {jobs.map((item) => {\n        return <JobListItem key={item.id} item={item} submitID={submitID} />;\n      })}\n    </List>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport \"./index.css\";\nimport { Map, Marker, Point } from \"pigeon-maps\";\nimport { CustomMarker } from \"./App\";\n\nconst MapContainer = styled.div`\n  position: fixed;\n  /* left: 25%; */\n  width: 120%;\n  height: 100%;\n`;\n\nconst TILE_KEY: string = \"tLsFLpESk6ikup9Az8ia\";\n\nconst mapTilerProvider = (\n  x: number,\n  y: number,\n  z: number,\n  dpr: any\n): string => {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${\n    dpr >= 2 ? \"@2x\" : \"\"\n  }.png?key=${TILE_KEY}`;\n};\n\nexport const AppMap = ({\n  points,\n  center,\n  zoom,\n  submitID,\n}: {\n  points: CustomMarker[];\n  center: Point;\n  zoom: number;\n  submitID: (id: string) => void;\n}) => {\n  return (\n    <MapContainer>\n      <Map center={center} zoom={zoom} provider={mapTilerProvider}>\n        {points.map((point) => {\n          return (\n            <Marker\n              key={point.id}\n              anchor={point.coords}\n              color=\"#3875c9\"\n              onClick={() => submitID(point.id)}\n            />\n          );\n        })}\n      </Map>\n    </MapContainer>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport type SearchProps = {\n  location: string;\n  jobTitle: string;\n  searchRadius: number;\n};\n\nconst Form = styled.form`\n  position: fixed;\n  height: 300px;\n  width: 20%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: flex;\n  border-radius: 0 0 10px 10px;\n  box-shadow: rgba(7, 6, 6, 0.2) 0px 2px 8px 0px;\n  z-index: 10;\n  padding: 10px;\n`;\n\nconst TextInput = styled.input`\n  height: 30px;\n  font-size: 20px;\n  border: none;\n  border-bottom: 1px solid grey;\n  outline: none;\n`;\n\nconst Title = styled.div`\n  font-size: 30px;\n  font-weight: 400;\n  padding: 10px 0px;\n  border-bottom: 1px solid lightgrey;\n  letter-spacing: 9.5px;\n`;\n\nconst BottomRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\n\nconst NumInput = styled.input`\n  width: 50px;\n`;\n\nexport const SearchForm = ({\n  submit,\n}: {\n  submit: (search: SearchProps) => void;\n}) => {\n  const [location, setLocation] = React.useState<string>(\"\");\n  const [jobTitle, setJobTitle] = React.useState<string>(\"\");\n  const [radius, setRadius] = React.useState<number>(0);\n\n  return (\n    <Form\n      onSubmit={(e) => {\n        e.preventDefault();\n        submit({\n          location: location,\n          jobTitle: jobTitle,\n          searchRadius: radius,\n        });\n      }}\n    >\n      <Title>JOB SEARCH</Title>\n      <div>Location</div>\n      <TextInput\n        type=\"text\"\n        placeholder=\"Location\"\n        value={location}\n        onChange={(e) => setLocation(e.target.value)}\n      />\n      <div>Job Title</div>\n      <TextInput\n        type=\"text\"\n        placeholder=\"Job Title\"\n        value={jobTitle}\n        onChange={(e) => setJobTitle(e.target.value)}\n      />\n      <BottomRow>\n        <div>Search Radius km</div>\n        <NumInput\n          type=\"number\"\n          placeholder=\"Search Radius\"\n          value={radius}\n          onChange={(e) => setRadius(parseInt(e.target.value))}\n        />\n        <button type=\"submit\">Search</button>\n      </BottomRow>\n    </Form>\n  );\n};\n","import * as React from \"react\";\nimport striptags from \"striptags\";\nimport { JobResponseItem } from \"./API\";\nimport styled from \"styled-components\";\nimport { roundToNearestHundred } from \"./utils\";\n\nconst Container = styled.div`\n  width: 20%;\n  position: fixed;\n  top: 330px;\n  height: 60%;\n  z-index: 10;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  border-radius: 10px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  padding: 10px;\n`;\n\nconst JobCard = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 92%;\n  height: 600px;\n  justify-content: space-between;\n  background: white;\n  padding: 10px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n`;\n\nconst Title = styled.div`\n  font-size: 30px;\n  font-weight: 400;\n  padding: 10px 0px;\n  border-bottom: 1px solid lightgrey;\n`;\n\nconst Button = styled.button`\n  align-self: flex-end;\n  width: 50px;\n`;\n\nexport const DetailedJobItem = ({\n  job,\n  onClick,\n}: {\n  job: JobResponseItem | undefined;\n  onClick: (click: boolean) => void;\n}) => {\n  return (\n    <Container>\n      {job ? (\n        <JobCard>\n          <Title>{striptags(job.title)}</Title>\n          <div>{striptags(job.company.display_name)}</div>\n          <div>{striptags(job.location.display_name)}</div>\n          <div>{striptags(job.description)}</div>\n          <div>{striptags(job.contract_type)}</div>\n          <div>\n            {roundToNearestHundred(job.salary_min)} -{\" \"}\n            {roundToNearestHundred(job.salary_max)}\n          </div>\n          <Button onClick={() => onClick(false)}>Back</Button>\n        </JobCard>\n      ) : null}\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { getJobs, JobResponse, JobResponseItem } from \"./API\";\nimport {\n  AppState,\n  setJobList,\n  setSearch,\n  setSelectedJobItem,\n  updatePopUpState,\n} from \"./appSlice\";\nimport \"./index.css\";\nimport { JobList } from \"./JobList\";\nimport { AppMap } from \"./AppMap\";\nimport { SearchForm, SearchProps } from \"./SearchForm\";\nimport { Point } from \"pigeon-maps/lib/types\";\nimport { DetailedJobItem } from \"./DetailedJobItem\";\n\nconst MainContainer = styled.div`\n  display: flex;\n  width: 100vw;\n  height: 100%;\n`;\n\nconst ColumnContainer = styled.div`\n  position: relative;\n  width: 25%;\n  height: 100%;\n  margin-left: 10px;\n`;\n\nexport type CustomMarker = {\n  id: string;\n  coords: Point;\n};\n\nexport const createArrayOfMarkers = (\n  list: JobResponseItem[]\n): CustomMarker[] => {\n  return list.map((item) => {\n    return { id: item.id, coords: [item.latitude, item.longitude] };\n  });\n};\n\nfunction App() {\n  const dispatch = useDispatch();\n  const state = useSelector(selectState);\n\n  React.useEffect(() => {\n    async function getData(search: SearchProps) {\n      try {\n        const jobResponse: JobResponse = await getJobs(search);\n        dispatch(setJobList({ response: jobResponse }));\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    getData(state.search);\n  }, [dispatch, state.search]);\n\n  return (\n    <MainContainer>\n      <ColumnContainer>\n        <SearchForm\n          submit={({ location, jobTitle, searchRadius }) => {\n            dispatch(\n              setSearch({\n                location: location,\n                jobTitle: jobTitle,\n                searchRadius: searchRadius,\n              })\n            );\n          }}\n        />\n        {state.jobPopUp ? (\n          <DetailedJobItem\n            job={state.selectedJobItem}\n            onClick={(_click) => dispatch(updatePopUpState({ click: _click }))}\n          />\n        ) : (\n          <JobList\n            jobs={state.jobList.results}\n            submitID={(_id) => dispatch(setSelectedJobItem({ id: _id }))}\n          />\n        )}\n      </ColumnContainer>\n      <AppMap\n        points={createArrayOfMarkers(state.jobList.results)}\n        center={state.mapView.center}\n        zoom={state.mapView.zoom}\n        submitID={(_id) => dispatch(setSelectedJobItem({ id: _id }))}\n      />\n    </MainContainer>\n  );\n}\n\nexport const selectState = ({ state }: { state: AppState }) => state;\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport appSlice from \"./appSlice\";\n\nconst store = configureStore({\n  reducer: {\n    state: appSlice,\n  },\n});\n\nexport default store;\n\nexport type AddDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}