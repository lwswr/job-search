(this["webpackJsonpjob-search"]=this["webpackJsonpjob-search"]||[]).push([[0],{27:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var i,c,a,o,r,s,d,p,l,u,b,j=n(0),h=n.n(j),x=n(10),f=n.n(x),m=n(9),O=n(15),v=n.n(O),g=n(29),y=n(2),w=n(3),k=n(30),I=n.n(k),S=function(e){return I.a.get("https://api.adzuna.com/v1/api/jobs/gb/search/1?app_id=".concat("bbab81cc","&app_key=").concat("96f0a9e3ac84c638a19b8b78d493ddd9","&results_per_page=20&what=").concat(e.jobTitle,"&where=").concat(e.location,"&distance=").concat(e.searchRadius),{headers:{"content-type":"application/json"}}).then((function(e){return e.data}))},J=n(11),L={jobList:{count:0,mean:0,results:[],topClass:""},search:{location:"London",jobTitle:"Frontend Engineer",searchRadius:5},selectedJobItem:void 0,mapView:{center:[51.507222,-.12755],zoom:12},jobPopUp:!1},_=Object(J.b)({name:"appSlice",initialState:L,reducers:{setSearch:function(e,t){var n=t.payload;e.search.location=n.location,e.search.jobTitle=n.jobTitle.split(" ").join("%20"),e.search.searchRadius=n.searchRadius},setJobList:function(e,t){var n=t.payload;e.jobList=n.response},setSelectedJobItem:function(e,t){var n=t.payload,i=e.jobList.results.findIndex((function(e){return e.id===n.id}));e.selectedJobItem=e.jobList.results[i],void 0===e.selectedJobItem.longitude?alert("No coordinates for this job"):e.mapView.center=[e.selectedJobItem.latitude,e.selectedJobItem.longitude],e.jobPopUp=!0},updatePopUpState:function(e,t){var n=t.payload;e.jobPopUp=n.click}}}),z=_.actions,C=z.setSearch,R=z.setJobList,T=z.setSelectedJobItem,D=z.updatePopUpState,P=_.reducer,U=(n(27),function(e){return 100*Math.round(e/100)}),E=n(6),V=n.n(E),F=n(1),B=w.a.div(i||(i=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 100px;\n  margin-top: 10px;\n  padding: 10px;\n  border-radius: 5px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  justify-content: space-around;\n  transition: 0.3s;\n  :hover {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n  }\n"]))),M=w.a.div(c||(c=Object(y.a)(["\n  font-weight: 400;\n  font-size: 20px;\n"]))),A=function(e){var t=e.item,n=e.submitID;return Object(F.jsxs)(B,{onClick:function(){return n(t.id)},children:[Object(F.jsx)(M,{children:V()(t.title)}),Object(F.jsx)("div",{children:V()(t.company.display_name)}),Object(F.jsxs)("div",{children:["\xa3",U(t.salary_min)+" "," - \xa3",U(t.salary_max)]})]})},N=w.a.div(a||(a=Object(y.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  top: 250px;\n"]))),q=function(e){var t=e.jobs,n=e.submitID;return Object(F.jsx)(N,{children:t.map((function(e){return Object(F.jsx)(A,{item:e,submitID:n},e.id)}))})},G=n(16),H=w.a.div(o||(o=Object(y.a)(["\n  position: fixed;\n  left: 25%;\n  width: 75%;\n  height: 100%;\n"]))),K=function(e,t,n,i){return"https://api.maptiler.com/maps/streets/256/".concat(n,"/").concat(e,"/").concat(t).concat(i>=2?"@2x":"",".png?key=").concat("tLsFLpESk6ikup9Az8ia")},Q=function(e){var t=e.points,n=e.center,i=e.zoom,c=e.submitID;return Object(F.jsx)(H,{children:Object(F.jsx)(G.a,{center:n,zoom:i,provider:K,children:t.map((function(e){return Object(F.jsx)(G.b,{anchor:e.coords,color:"#3875c9",onClick:function(){return c(e.id)}},e.id)}))})})},W=n(12),X=w.a.form(r||(r=Object(y.a)(["\n  position: fixed;\n  height: 250px;\n  width: 25%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  z-index: 10;\n"]))),Y=function(e){var t=e.submit,n=h.a.useState("London"),i=Object(W.a)(n,2),c=i[0],a=i[1],o=h.a.useState("Frontend Engineer"),r=Object(W.a)(o,2),s=r[0],d=r[1],p=h.a.useState(5),l=Object(W.a)(p,2),u=l[0],b=l[1];return Object(F.jsxs)(X,{onSubmit:function(e){e.preventDefault(),t({location:c,jobTitle:s,searchRadius:u})},children:[Object(F.jsx)("input",{type:"text",placeholder:"Location",value:c,onChange:function(e){return a(e.target.value)}}),Object(F.jsx)("input",{type:"text",placeholder:"Job Title",value:s,onChange:function(e){return d(e.target.value)}}),Object(F.jsx)("input",{type:"number",placeholder:"Search Radius",value:u,onChange:function(e){return b(parseInt(e.target.value))}}),Object(F.jsx)("button",{type:"submit",children:"Search"})]})},Z=w.a.div(s||(s=Object(y.a)(["\n  width: 25%;\n  position: fixed;\n  top: 275px;\n  display: flex;\n  justify-content: center;\n  height: 100%;\n"]))),$=w.a.div(d||(d=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  height: 600px;\n  justify-content: space-between;\n  padding: 10px;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n"]))),ee=w.a.div(p||(p=Object(y.a)(["\n  font-size: 30px;\n  font-weight: 400;\n  padding: 10px 0px;\n  border-bottom: 1px solid lightgrey;\n"]))),te=w.a.button(l||(l=Object(y.a)(["\n  align-self: flex-end;\n  width: 50px;\n"]))),ne=function(e){var t=e.job,n=e.onClick;return Object(F.jsx)(Z,{children:t?Object(F.jsxs)($,{children:[Object(F.jsx)(ee,{children:V()(t.title)}),Object(F.jsx)("div",{children:V()(t.company.display_name)}),Object(F.jsx)("div",{children:V()(t.location.display_name)}),Object(F.jsx)("div",{children:V()(t.description)}),Object(F.jsx)("div",{children:V()(t.contract_type)}),Object(F.jsxs)("div",{children:[U(t.salary_min)," -"," ",U(t.salary_max)]}),Object(F.jsx)(te,{onClick:function(){return n(!1)},children:"Back"})]}):null})},ie=w.a.div(u||(u=Object(y.a)(["\n  display: flex;\n  width: 100vw;\n  height: 100%;\n"]))),ce=w.a.div(b||(b=Object(y.a)(["\n  position: relative;\n  width: 25%;\n  height: 100%;\n"])));var ae=function(e){return e.state},oe=function(){var e,t=Object(m.b)(),n=Object(m.c)(ae);return h.a.useEffect((function(){function e(){return(e=Object(g.a)(v.a.mark((function e(n){var i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(n);case 3:i=e.sent,t(R({response:i})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(n.search)}),[t,n.search]),Object(F.jsxs)(ie,{children:[Object(F.jsxs)(ce,{children:[Object(F.jsx)(Y,{submit:function(e){var n=e.location,i=e.jobTitle,c=e.searchRadius;t(C({location:n,jobTitle:i,searchRadius:c}))}}),n.jobPopUp?Object(F.jsx)(ne,{job:n.selectedJobItem,onClick:function(e){return t(D({click:e}))}}):Object(F.jsx)(q,{jobs:n.jobList.results,submitID:function(e){return t(T({id:e}))}})]}),Object(F.jsx)(Q,{points:(e=n.jobList.results,e.map((function(e){return{id:e.id,coords:[e.latitude,e.longitude]}}))),center:n.mapView.center,zoom:n.mapView.zoom,submitID:function(e){return t(T({id:e}))}})]})},re=Object(J.a)({reducer:{state:P}});f.a.render(Object(F.jsx)(m.a,{store:re,children:Object(F.jsx)(h.a.StrictMode,{children:Object(F.jsx)(oe,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e439c1e5.chunk.js.map